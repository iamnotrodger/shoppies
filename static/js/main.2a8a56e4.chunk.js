(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{33:function(e,n,t){},35:function(e,n,t){},36:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){},41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t.n(c),i=t(5),s=t.n(i),r=t(4),o=t(9),l=t(19),u=t(44),d=t(43),j=t(10),b=t.n(j),h=t(17),m="MOVIE_FETCH_PENDING",f="MOVIE_FETCH_SUCCESS",O="MOVIE_FETCH_ERROR",v=function(){var e=Object(h.a)(b.a.mark((function e(n){var t,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=10;break}return e.next=3,fetch("".concat("https://www.omdbapi.com/?apikey=edcd1b0d","&s=").concat(n,"&type=movie"));case 3:if(!(t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:return c=e.sent,a=c.Search,e.abrupt("return",a||[]);case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p="ADD_NOMINEE",x="DELETE_NOMINEE",_=(t(33),t(1)),N=function(e){var n=e.loading;return Object(_.jsx)(d.a,{in:n,unmountOnExit:!0,timeout:1e3,classNames:"load",children:Object(_.jsx)("div",{className:"loading-screen",children:Object(_.jsxs)("div",{className:"loading-screen__content",children:[Object(_.jsx)("div",{className:"loading-screen__ball"}),Object(_.jsx)("div",{className:"loading-screen__text",children:"LOADING"})]})})})},g=(t(35),function(e){var n=e.value,t=e.className,c=e.disabled,a=e.btnTxt,i=e.onClick,s=n.Title,r=n.Year,o=n.Poster;return Object(_.jsxs)("div",{className:"movie ".concat(t),children:[Object(_.jsx)("div",{className:"movie__poster",style:{backgroundImage:"url(".concat(o,")")}}),Object(_.jsxs)("div",{className:"movie__info",children:[Object(_.jsx)("h3",{className:"movie__title",children:s}),Object(_.jsx)("p",{className:"movie__year",children:r})]}),Object(_.jsx)("button",{disabled:c,className:"movie__button",onClick:i,children:a||"Click Me"})]})});g.defaultProps={disabled:!1,className:""};var y=g,E=function(e,n){return!(n.length<5)||n.findIndex((function(n){return n.imdbID==e.imdbID}))>-1},I=function(){var e=Object(r.c)((function(e){return e.movie})),n=e.movies,t=e.search,c=e.loading,a=Object(r.c)((function(e){return e.nominees})),i=Object(r.b)(),s=function(e){i(function(e){return{type:p,payload:e}}(e))};return Object(_.jsxs)("div",{className:"movie-container",children:[Object(_.jsx)("h2",{className:"movie-container__header",children:'Results for "'.concat(t,'"')}),Object(_.jsx)(u.a,{className:"movie-container__list",children:n.map((function(e){return Object(_.jsx)(d.a,{timeout:{appear:500,enter:500,exit:250},classNames:"movie-transition",children:Object(_.jsx)(y,{value:e,disabled:E(e,a),onClick:function(){return s(e)},btnTxt:"Nominate"})},e.imdbID)}))}),Object(_.jsx)(N,{loading:c})]})},w=t(13),k=(t(36),function(){var e=Object(c.useState)(!1),n=Object(w.a)(e,2),t=n[0],a=n[1],i=Object(r.c)((function(e){return e.nominees}));Object(c.useEffect)((function(){i.length>=5?a(!0):a(!1)}),[i]);var s=function(){a(!1)};return Object(_.jsx)(d.a,{in:t,timeout:500,unmountOnExit:!0,classNames:"banner",children:Object(_.jsx)("div",{className:"nomination-banner",onClick:s,children:Object(_.jsxs)("div",{className:"nomination-banner__content",children:[Object(_.jsx)("h2",{className:"nomination-banner__title",children:"Good job!"}),Object(_.jsx)("h3",{className:"nomination-banner__subtitle",children:"Nominated five movies."}),Object(_.jsx)("button",{className:"nomination-banner__button",onClick:s,children:"Got it"})]})})})}),C=function(){var e=Object(c.useState)(null),n=Object(w.a)(e,2),t=n[0],a=n[1],i=Object(c.useRef)(null),s=Object(r.c)((function(e){return e.nominees})),o=Object(r.b)();Object(c.useEffect)((function(){var e=i.current.children[0].offsetHeight,n=i.current.children[1].offsetHeight;a(e+n+60)}),[]);var l=function(e){o(function(e){return{type:x,payload:e}}(e))},j=function(e){a(t+e.offsetHeight+20)},b=function(e){a(t-e.offsetHeight-15)};return Object(_.jsxs)("div",{className:"movie-container",style:{height:t},ref:i,children:[Object(_.jsx)("h2",{className:"movie-container__header",children:"Nominations"}),Object(_.jsx)(u.a,{className:"movie-container__list",children:s.map((function(e){return Object(_.jsx)(d.a,{timeout:{appear:500,enter:500,exit:250},classNames:"movie-transition",onEnter:j,onExit:b,children:Object(_.jsx)(y,{className:"movie--error",value:e,onClick:function(){return l(e)},btnTxt:"Remove"})},e.imdbID)}))})]})},D=t(20),S=function(e,n){return Object(c.useCallback)(Object(D.debounce)((function(){return e.apply(void 0,arguments)}),n),[e,n])},M=function(){return Object(_.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(_.jsxs)("g",{clipPath:"url(#sm-solid-search_svg__clip0)",fillRule:"evenodd",clipRule:"evenodd",children:[Object(_.jsx)("path",{d:"M7.212 1.803a5.409 5.409 0 100 10.818 5.409 5.409 0 000-10.818zM0 7.212a7.212 7.212 0 1114.424 0A7.212 7.212 0 010 7.212z"}),Object(_.jsx)("path",{d:"M11.03 11.03a.901.901 0 011.275 0l3.43 3.432a.902.902 0 01-1.274 1.275l-3.431-3.431a.901.901 0 010-1.275z"})]}),Object(_.jsx)("defs",{children:Object(_.jsx)("clipPath",{id:"sm-solid-search_svg__clip0",children:Object(_.jsx)("path",{d:"M0 0h16v16H0z"})})})]})},T=(t(39),function(){var e=Object(r.b)(),n=S((function(n){try{e(function(e){return function(){var n=Object(h.a)(b.a.mark((function n(t){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:m}),n.prev=1,n.next=4,v(e);case 4:c=n.sent,t({type:f,payload:{movies:c,search:e}}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t({type:O,payload:n.t0});case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}(n.trim()))}catch(t){console.log(t)}}),500);Object(c.useEffect)((function(){return n.cancel()}),[n]);return Object(_.jsxs)("div",{className:"search",children:[Object(_.jsx)("h3",{className:"search__header",children:"Movie Title"}),Object(_.jsxs)("div",{className:"search__bar",children:[Object(_.jsx)("div",{className:"search__icon",children:Object(_.jsx)(M,{})}),Object(_.jsx)("input",{type:"text",className:"search__input",onChange:function(e){var t=e.target.value;n(t)},placeholder:"Search for a movie title",autoFocus:!0})]})]})}),F=(t(40),function(){return Object(_.jsxs)("div",{className:"app",children:[Object(_.jsxs)("header",{className:"app__header",children:[Object(_.jsx)("h1",{className:"app__title",children:"The Shoppies"}),Object(_.jsx)(T,{})]}),Object(_.jsxs)("main",{className:"main",children:[Object(_.jsx)(I,{}),Object(_.jsx)(C,{})]}),Object(_.jsx)(k,{})]})}),H=(t(41),{movies:[],loading:!1,error:"",search:""}),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case m:return Object.assign({},e,{loading:!0});case f:return Object.assign({},e,{movies:n.payload.movies,search:n.payload.search,loading:!1});case O:return Object.assign({},e,{search:"",movies:[],error:n.payload,loading:!1});default:return e}},P=t(21),z=function(){var e=JSON.parse(window.localStorage.getItem("nominees"));return e||(e=[]),e},G=function(e){window.localStorage.setItem("nominees",JSON.stringify(e))},J=function(e,n){e.length<5&&(e.findIndex((function(e){return e.imdbID==n.imdbID}))<0&&e.push(n));return Object(P.a)(e)},L=function(e,n){return e.filter((function(e){return e.imdbID!==n.imdbID}))},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case p:var t=J(e,n.payload);return G(t),t;case x:var c=L(e,n.payload);return G(c),c;default:return e}},B=Object(o.b)({movie:R,nominees:A}),V=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,45)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,i=n.getLCP,s=n.getTTFB;t(e),c(e),a(e),i(e),s(e)}))},U=Object(o.c)(B,Object(o.a)(l.a));s.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(r.a,{store:U,children:Object(_.jsx)(F,{})})}),document.getElementById("root")),V()}},[[42,1,2]]]);
//# sourceMappingURL=main.2a8a56e4.chunk.js.map