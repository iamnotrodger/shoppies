(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{34:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(5),s=n.n(a),r=n(4),o=n(10),l=n(20),u=n(45),d=n(44),j=n(11),b=n.n(j),h=n(18),m="MOVIE_FETCH_PENDING",O="MOVIE_FETCH_SUCCESS",f="MOVIE_FETCH_ERROR",v=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return e.next=3,fetch("".concat("https://www.omdbapi.com/?apikey=edcd1b0d","&s=").concat(t,"&type=movie"));case 3:if(!(n=e.sent).ok){e.next=10;break}return e.next=7,n.json();case 7:return c=e.sent,i=c.Search,e.abrupt("return",i||[]);case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p="ADD_NOMINEE",x="DELETE_NOMINEE",_=(n(34),n(1)),g=function(e){var t=e.loading;return Object(_.jsx)(d.a,{in:t,unmountOnExit:!0,timeout:1e3,classNames:"load",children:Object(_.jsx)("div",{className:"loading-screen",children:Object(_.jsxs)("div",{className:"loading-screen__content",children:[Object(_.jsx)("div",{className:"loading-screen__ball"}),Object(_.jsx)("div",{className:"loading-screen__text",children:"LOADING"})]})})})},N=(n(36),function(e){var t=e.value,n=e.className,c=e.disabled,i=e.btnTxt,a=e.onClick,s=t.Title,r=t.Year,o=t.Poster;return Object(_.jsxs)("div",{className:"movie ".concat(n),children:[Object(_.jsx)("div",{className:"movie__poster",style:{backgroundImage:"url(".concat(o,")")}}),Object(_.jsxs)("div",{className:"movie__info",children:[Object(_.jsx)("h3",{className:"movie__title",children:s}),Object(_.jsx)("p",{className:"movie__year",children:r})]}),Object(_.jsx)("button",{disabled:c,className:"movie__button",onClick:a,children:i||"Click Me"})]})});N.defaultProps={disabled:!1,className:""};var C=N,w=function(e,t){return!(t.length<5)||t.findIndex((function(t){return t.imdbID==e.imdbID}))>-1},y=function(){var e=Object(r.c)((function(e){return e.movie})),t=e.movies,n=e.search,c=e.loading,i=Object(r.c)((function(e){return e.nominees})),a=Object(r.b)(),s=function(e){a(function(e){return{type:p,payload:e}}(e))};return Object(_.jsxs)("div",{className:"movie-container",children:[Object(_.jsx)("h2",{className:"movie-container__header",children:'Results for "'.concat(n,'"')}),Object(_.jsx)(u.a,{className:"movie-container__list",children:t.map((function(e){return Object(_.jsx)(d.a,{timeout:{appear:500,enter:500,exit:250},classNames:"movie-transition",children:Object(_.jsx)(C,{value:e,disabled:w(e,i),onClick:function(){return s(e)},btnTxt:"Nominate"})},e.imdbID)}))}),Object(_.jsx)(g,{loading:c})]})},E=n(14),I=(n(37),function(){var e=Object(c.useState)(!1),t=Object(E.a)(e,2),n=t[0],i=t[1],a=Object(r.c)((function(e){return e.nominees}));Object(c.useEffect)((function(){a.length>=5?i(!0):i(!1)}),[a]);var s=function(){i(!1)};return Object(_.jsx)(d.a,{in:n,timeout:500,unmountOnExit:!0,classNames:"banner",children:Object(_.jsx)("div",{className:"nomination-banner",onClick:s,children:Object(_.jsxs)("div",{className:"nomination-banner__content",children:[Object(_.jsx)("h2",{className:"nomination-banner__title",children:"Good job!"}),Object(_.jsx)("h3",{className:"nomination-banner__subtitle",children:"Nominated five movies."}),Object(_.jsx)("button",{className:"nomination-banner__button",onClick:s,children:"Got it"})]})})})}),k=function(){var e=Object(c.useState)(null),t=Object(E.a)(e,2),n=t[0],i=t[1],a=Object(c.useRef)(null),s=Object(r.c)((function(e){return e.nominees})),o=Object(r.b)();Object(c.useEffect)((function(){var e=a.current.children[0].offsetHeight,t=a.current.children[1].offsetHeight;i(e+t+60)}),[]);var l=function(e){o(function(e){return{type:x,payload:e}}(e))},j=function(e){i(n+e.offsetHeight+15)},b=function(e){i(n-e.offsetHeight-15)};return Object(_.jsxs)("div",{className:"movie-container",style:{height:n},ref:a,children:[Object(_.jsx)("h2",{className:"movie-container__header",children:"Nominations"}),Object(_.jsx)(u.a,{className:"movie-container__list",children:s.map((function(e){return Object(_.jsx)(d.a,{timeout:{appear:500,enter:500,exit:250},classNames:"movie-transition",onEnter:j,onExit:b,children:Object(_.jsx)(C,{className:"movie--error",value:e,onClick:function(){return l(e)},btnTxt:"Remove"})},e.imdbID)}))})]})},D=n(21),S=function(e,t){return Object(c.useCallback)(Object(D.debounce)((function(){return e.apply(void 0,arguments)}),t),[e,t])},M=function(){return Object(_.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(_.jsxs)("g",{clipPath:"url(#sm-solid-search_svg__clip0)",fillRule:"evenodd",clipRule:"evenodd",children:[Object(_.jsx)("path",{d:"M7.212 1.803a5.409 5.409 0 100 10.818 5.409 5.409 0 000-10.818zM0 7.212a7.212 7.212 0 1114.424 0A7.212 7.212 0 010 7.212z"}),Object(_.jsx)("path",{d:"M11.03 11.03a.901.901 0 011.275 0l3.43 3.432a.902.902 0 01-1.274 1.275l-3.431-3.431a.901.901 0 010-1.275z"})]}),Object(_.jsx)("defs",{children:Object(_.jsx)("clipPath",{id:"sm-solid-search_svg__clip0",children:Object(_.jsx)("path",{d:"M0 0h16v16H0z"})})})]})},T=(n(40),function(){var e=Object(r.b)(),t=S((function(t){try{e(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:m}),t.prev=1,t.next=4,v(e);case 4:c=t.sent,n({type:O,payload:{movies:c,search:e}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:f,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t.trim()))}catch(n){console.log(n)}}),500);Object(c.useEffect)((function(){return t.cancel()}),[t]);return Object(_.jsxs)("div",{className:"search",children:[Object(_.jsx)("h3",{className:"search__header",children:"Movie Title"}),Object(_.jsxs)("div",{className:"search__bar",children:[Object(_.jsx)("div",{className:"search__icon",children:Object(_.jsx)(M,{})}),Object(_.jsx)("input",{type:"text",className:"search__input",onChange:function(e){var n=e.target.value;t(n)},placeholder:"Search for a movie title",autoFocus:!0})]})]})}),R=n(8),H=function(e){return Object(_.jsxs)("svg",Object(R.a)(Object(R.a)({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(_.jsx)("g",{clipPath:"url(#clip0)",children:Object(_.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0C12.4184 0 16 3.67194 16 8.20234C16 11.8255 13.7104 14.8992 10.5336 15.9848C10.128 16.0656 9.984 15.8094 9.984 15.591C9.984 15.3206 9.9936 14.4374 9.9936 13.3398C9.9936 12.575 9.7376 12.0759 9.4504 11.8215C11.232 11.6183 13.104 10.9246 13.104 7.77422C13.104 6.87822 12.7936 6.14706 12.28 5.57266C12.3632 5.36546 12.6376 4.53116 12.2016 3.40156C12.2016 3.40156 11.5312 3.18178 10.004 4.24258C9.35149 4.0607 8.67738 3.96769 8 3.96641C7.32314 3.96763 6.64956 4.06064 5.9976 4.24258C4.4688 3.18178 3.7968 3.40156 3.7968 3.40156C3.3624 4.53116 3.6368 5.36546 3.7192 5.57266C3.208 6.14706 2.8952 6.87822 2.8952 7.77422C2.8952 10.9166 4.7632 11.6209 6.54 11.8281C6.3112 12.0329 6.104 12.3942 6.032 12.9246C5.576 13.1342 4.4176 13.497 3.704 12.2434C3.704 12.2434 3.2808 11.4553 2.4776 11.3977C2.4776 11.3977 1.6976 11.3873 2.4232 11.8961C2.4232 11.8961 2.9472 12.1481 3.3112 13.0961C3.3112 13.0961 3.7808 14.5601 6.0064 14.0641C6.0104 14.7497 6.0176 15.3958 6.0176 15.591C6.0176 15.8078 5.8704 16.0615 5.4712 15.9855C2.292 14.9015 0 11.8263 0 8.20234C0 3.67194 3.5824 0 8 0"})}),Object(_.jsx)("defs",{children:Object(_.jsx)("clipPath",{id:"clip0",children:Object(_.jsx)("rect",{width:"16",height:"16"})})})]}))},P=(n(41),function(){return Object(_.jsxs)("div",{className:"app",children:[Object(_.jsxs)("header",{className:"header",children:[Object(_.jsxs)("div",{className:"app__header",children:[Object(_.jsx)("h1",{className:"app__title",children:"The Shoppies"}),Object(_.jsxs)("a",{href:"https://github.com/iamnotrodger/shoppies",className:"app__github",children:[Object(_.jsx)(H,{})," GitHub"]})]}),Object(_.jsx)(T,{})]}),Object(_.jsxs)("main",{className:"main",children:[Object(_.jsx)(y,{}),Object(_.jsx)(k,{})]}),Object(_.jsx)(I,{})]})}),F=(n(42),{movies:[],loading:!1,error:"",search:""}),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object.assign({},e,{loading:!0});case O:return Object.assign({},e,{movies:t.payload.movies,search:t.payload.search,loading:!1});case f:return Object.assign({},e,{search:"",movies:[],error:t.payload,loading:!1});default:return e}},z=n(22),B=function(){var e=JSON.parse(window.localStorage.getItem("nominees"));return e||(e=[]),e},J=function(e){window.localStorage.setItem("nominees",JSON.stringify(e))},L=function(e,t){e.length<5&&(e.findIndex((function(e){return e.imdbID==t.imdbID}))<0&&e.push(t));return Object(z.a)(e)},A=function(e,t){return e.filter((function(e){return e.imdbID!==t.imdbID}))},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var n=L(e,t.payload);return J(n),n;case x:var c=A(e,t.payload);return J(c),c;default:return e}},U=Object(o.b)({movie:G,nominees:V}),Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))},q=Object(o.c)(U,Object(o.a)(l.a));s.a.render(Object(_.jsx)(i.a.StrictMode,{children:Object(_.jsx)(r.a,{store:q,children:Object(_.jsx)(P,{})})}),document.getElementById("root")),Y()}},[[43,1,2]]]);
//# sourceMappingURL=main.309ea21a.chunk.js.map